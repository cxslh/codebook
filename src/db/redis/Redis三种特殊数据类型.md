---
title: Redis三种特殊数据类型
breadcrumb: false
headerDepth: 4
pageInfo: false
---

::: info
前面已经讲解了五种基本的数据类型,也是平时开发常用的数据类型，redis还有几种特殊的数据类型，下面一一学习
:::

## 三、redis地理空间（GEO）
Redis GEO主要用于存储地理位置信息，并对存储的信息进行操作，包括：
添加地理位置的坐标。
获取地理位置的坐标。
计算两个位置之间的距离。
根据用户给定的经纬度坐标来获取指定范围内的地址位置集合。

## 四、redis基数统计（HyperLogLog）
HyperLogLog是用来做基数统计的算法，HyperLogLog的优点是，在输入元素的数量或者体积非常非常大时，计算基数所需要的空间总是固定且是很小的。
在Redis里面，每个HyperLogLog键只需要花费12KB内存，就可以计算接近2^64个不同元素的基数。这和计算基数时，元素越多耗费内存就越多的集合形成鲜明对比。
但是，因为HyperLogLog只会根据输入元素来计算基数，而不会存储输入元素本身，所以HyperLogLog不能像集合那样，返回输入的各个元素。

## 五、redis位图（bitmap）
Bitmap，即位图，是一串连续的二进制数组（0和1），可以通过偏移量（offset）定位元素。BitMap通过最小的单位bit来进行0|1的设置，表示某个元素的值或者状态，时间复杂度为O(1)。
由于 bit 是计算机中最小的单位，使用它进行储存将非常节省空间，特别适合一些数据量大且使用二值统计的场景。

## 六、redis位域（bitfield）
通过bitfield命令可以一次性操作多个比特位域(指的是连续的多个比特位)，它会执行一系列操作并返回一个响应数组，这个数组中的元素对应参数列表中的相应的执行结果。
说白了就是通过bitfield命令我们可以一次性对多个比特位域进行操作。

## 七、redis流（Stream）
Redis Stream是Redis5.0版本新增加的数据结构。
Redis Stream主要用于消息队列（MQ，Message Queue），Redis本身就是一个Redis发布订阅（pub/sub）来实现消息队列的功能，但它有个缺点就是消息无法持久化，如果出现网络断开、Redis宕机等，消息就会被丢弃。
简单来说发布订阅（pub/sub）可以分发消息，但无法记录历史消息。
而Redis Stream提供了消息的持久化和主备复制功能，可以让任何客户端访问任何时刻的数据，并且能记住每一个客户端的访问位置，还能保证消息不丢失。